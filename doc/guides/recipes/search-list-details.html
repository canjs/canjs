<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE — ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: docs/can-guides/commitment/recipes/search-list-details/search-list-details.md
	@page guides/recipes/search-list-details
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Search, List, Details | advanced recipes | Guides | CanJS — Build CRUD apps in fewer lines of code.</title>
	<meta name="description" content="This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta property="og:image" content="https://www.bitovi.com/hubfs/open-source/os-canjs.png">
	<meta property="og:description" content="This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.">
	<meta property="og:title" content="Search, List, Details | advanced recipes | Guides | CanJS — Build CRUD apps in fewer lines of code.">
	<script type="application/ld+json">
		{
			"@context": "http://www.schema.org",
			"@type": "SoftwareSourceCode",
			"applicationCategory": "DeveloperApplication",
			"brand": "Bitovi",
			"category": "JavaScript Frameworks",
			"codeRepository": "https://github.com/canjs/canjs",
			"description": "This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.",
			"image": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"license": "https://github.com/canjs/canjs/blob/master/license.md",
			"logo": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"name": "Search, List, Details | advanced recipes | Guides | CanJS — Build CRUD apps in fewer lines of code.",
			"programmingLanguage": "JavaScript",
			"softwareVersion" : "6.6.1"
		}
	</script>
	
		<link rel="stylesheet" type="text/css" href="../../static/bundles/bit-docs-site/static.css">
		<link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/docs/images/canjs_favicon.ico">
		<link rel="apple-touch-icon" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon" sizes="72x72" href="../../../docs/images/canjs_favicon_72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="../../../docs/images/canjs_favicon_114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../../../docs/images/canjs_favicon_128x128.png">
		<link rel="apple-touch-icon" sizes="144x144" href="../../../docs/images/canjs_favicon_144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../../../docs/images/canjs_favicon_152x152.png">
		<meta content="yes" name="apple-mobile-web-app-capable">
	  	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-11', 'auto');
			ga('send', 'pageview');
		</script>
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
	  	<div data-current-page="guides/recipes/search-list-details" id="everything">
  <div class="header">
    
	<label for="nav-trigger">Menu</label>
	<div class="brand">
		<div class="logo">
			<a href="../../../index.html" alt="CanJS"></a>
			<div class="dropdown project-dropdown">
				<a href="https://donejs.com/">DoneJS</a>
				<a href="https://stealjs.com/">StealJS</a>
				<a href="https://jquerypp.com/">jQuery++</a>
				<a href="https://funcunit.com/">FuncUnit</a>
				<a href="https://documentjs.com/">DocumentJS</a>
			</div>
		</div>
		<div class="version">
			<div class="version-number">
				6.6.1
			</div>
			<div class="dropdown version-dropdown">
				
					<a href="https://v5.canjs.com">5.33.3</a>
				
					<a href="https://v4.canjs.com">4.3.0</a>
				
					<a href="https://v3.canjs.com">3.14.1</a>
				
					<a href="https://v2.canjs.com">2.3.35</a>
				
			</div>
		</div>
	</div>


	
	<ul class="top-right-links">
		
			
				
					<li class="">
						<a class="page"
							href="../../about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
					</li>
				
			
		
			
				
					<li class="current">
						<a class="page"
							href="../../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
					</li>
				
			
		
	</ul>



<div class="search-section">
	<div class="search-bar">
	<div class="search-wrap" style="display:none;">
		<span class="search-icon"></span>
		<input
			type="text"
			size="6"
			class="search"
			placeholder="Search"
			autocomplete="off"
			autocorrect="off"
			autocapitalize="none"
			spellcheck="false"/>
			<span class="search-icon-cancel"></span>
	</div>
</div>

	<div class="search-bar-container">
	</div>
	<div class="search-results-container">
	<div class="search-results-wrap"></div>
</div>

</div>
<ul class="top-right-bitovi">
	<li class="dropdown">
		<a href="https://www.bitovi.com" class="bitovi by-bitovi">Bitovi</a>
		<ul class="dropdown-menu">
			<li><a href="https://www.bitovi.com/">Bitovi.com</a></li>
			<li><a href="https://www.bitovi.com/blog">Blog</a></li>
			<li><a href="https://www.bitovi.com/design">Design</a></li>
			<li><a href="https://www.bitovi.com/development">Development</a></li>
			<li><a href="https://www.bitovi.com/training">Training</a></li>
			<li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
			<li><a href="https://www.bitovi.com/about">About</a></li>
			<li><a href="https://www.bitovi.com/contact">Contact Us</a></li>
		</ul>
	</li>
</ul>

  </div>
  <div id="left" class="column">

      <div class="nav-menu">
        
            
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
						
	<ul>
		
			
				
					<li>
						<span>getting started</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../crud-beginner.html"
							title="Learn how to build a basic CRUD app with CanJS in 30 minutes.">
							CRUD Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../setup.html"
							title="Learn how to install CanJS in your environment.">
							Setting Up CanJS
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../technology-overview.html"
							title="Learn the basics of CanJS’s technology.">
							Technology Overview
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>topics</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../html.html"
							title="Learn how to update HTML and listen to user interactions.">
							HTML
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../routing.html"
							title="Learn how to make your application respond to changes in the URL and work with the browser’s back and forward buttons.">
							Routing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../data.html"
							title="Learn how to use can-connect to integrate service layer APIs into your CanJS application.">
							Service Layer
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../debugging.html"
							title="Learn how to debug CanJS applications.">
							Debugging
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../forms.html"
							title="Learn how to create amazing &lt;form&gt;s with CanJS.">
							Forms
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../testing.html"
							title="Learn how to test CanJS applications.">
							Testing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../logic.html"
							title="Learn how to write observables in an organized, maintainable, and testable way.">
							Logic
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../server-side-rendering.html"
							title="Learn how to set up SSR for CanJS.">
							Server-Side Rendering
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>app guides</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../chat.html"
							title="This guide will walk you through building a real-time chat application with CanJS’s Core libraries.  It takes about 30 minutes to complete.">
							Chat Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../todomvc.html"
							title="This guide will walk you through building a slightly modified version of TodoMVC with CanJS’s Core libraries and can-fixture. It takes about 1 hour to complete.">
							TodoMVC Guide
						</a>
						

					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="todomvc-with-steal.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations covering CanJS core libraries.">
							TodoMVC with StealJS
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>beginner recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="canvas-clock.html"
							title="This beginner guide walks you through building a clock with the Canvas API.">
							Canvas Clock
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="credit-card-simple.html"
							title="This beginner guide walks through building a very simple credit card payment form.  It uses Stripe.js v2 API to create a token which can be used to create a charge.  It also performs simple validation on the payment form values.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="file-navigator-simple.html"
							title="This beginner guide walks you through building a simple file navigation widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.0.0. Check out the file-navigator-advanced for an example that makes AJAX requests for its data and uses can-stache-element.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="signup-simple.html"
							title="This beginner guide walks through building simple signup, login forms and a logout button.">
							Signup and Login
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="video-player.html"
							title="This beginner guide walks you through building custom video controls around a video element.">
							Video Player
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="weather-report-simple.html"
							title="This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.2.">
							Weather Report
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>intermediate recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="cta-bus-map.html"
							title="This intermediate guide walks you through showing Chicago Transit Authority (CTA) bus locations on a Google Map. You&#x27;ll learn how to create a StacheElement that integrates with 3rd party widgets.">
							CTA Bus Map
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="modals.html"
							title="This intermediate guide shows how to create a multiple modal form.">
							Multiple Modals
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="text-editor.html"
							title="This intermediate guide walks you through building a basic rich text editor.">
							Text Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="tinder-carousel.html"
							title="This intermediate guide walks you through building a Tinder-like carousel. Learn how to build apps that use dragging user interactions.">
							Tinder Carousel
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>advanced recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="credit-card-advanced.html"
							title="This advanced guide walks through building a simple credit card payment form with validations. It doesn’t use can-define. Instead it uses Kefir.js streams to make a ViewModel. can-kefir is used to make the Kefir streams observable to can-stache.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="file-navigator-advanced.html"
							title="This advanced guide walks you through building a file navigation widget that requests data with fetch. It takes about 45 minutes to complete.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="playlist-editor.html"
							title="Learn how to use YouTube’s API to search for videos and make a playlist.  This makes authenticated requests with OAuth2. It uses jQuery++ for drag/drop events. It shows using custom attributes and custom events.  This advanced guide takes an hour to complete.  This recipe uses YouTube API Services and follows YouTube Terms of Service and Google Privacy Policy">
							Playlist Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="current
           						
           						expanded">
						<a class="page"
							href="search-list-details.html"
							title="This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.">
							Search, List, Details
						</a>
						

					</li>
				
			
		
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>upgrade</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-3.html"
							title="This guide walks you through the step-by-step process to upgrade a 2.x app to CanJS 3.">
							Migrating to CanJS 3
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-4.html"
							title="This guide walks you through the step-by-step process to upgrade a 3.x app to CanJS 4.">
							Migrating to CanJS 4
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-5.html"
							title="This guide walks you through the process to upgrade a 4.x app to CanJS 5.x.">
							Migrating to CanJS 5
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-6.html"
							title="This guide walks you through the process to upgrade a 5.x app to CanJS 6.x.">
							Migrating to CanJS 6
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../upgrade/using-codemods.html"
							title="Learn how to migrate your app to CanJS 6 using can-migrate.">
							Using Codemods
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>other</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../api.html"
							title="This page walks through how to use and understand CanJS’s API documentation.">
							Reading the API Docs
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
						

					</li>
				
			
		
	</ul>


        
      </div>
      <div class="social-side-container">
        <ul class="social-side">
  <li>
    <a class="header-mobile github" href="https://github.com/canjs/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/github.png">GitHub</a>
  </li>
  <li>
    <a class="header-mobile twitter" href="https://twitter.com/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/twitter.png">Twitter</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/community/slack" target="_blank">Chat</a>
  </li>
  <li>
    <a class="header-mobile" href="https://forums.bitovi.com/c/canjs" target="_blank">Forum</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/blog/topic/canjs" target="_blank">News</a>
  </li>
  <li></li>
</ul>

      </div>
      <div class="by-bitovi-container">
        <a href="https://www.bitovi.com" target="_blank" class="bitovi by-bitovi">Bitovi</a>
      </div>

  </div>
  <div id="right" class="column">

      <article>
  <section class="title">
	<div class="page-type">
		<h1>Search, List, Details</h1>
			<ul class="title-social">
				
				
				<li>
					<a class="button-link" href="//github.com/canjs/canjs/edit/master/docs/can-guides/commitment/recipes/search-list-details/search-list-details.md">Edit on GitHub</a>
				</li>
				
			</ul>
	</div>
	<div class="clear-both"></div>
	
  
	<section class="description">
    <p>This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.</p>

</section>

  
	
</section>
<section class="on-this-page-table">
	<!--<h2 class="on-this-page-title" data-skip>Page Content</h2>-->
</section>










  
    <section class="body">
    <p>The final widget looks like:</p>
<p class="codepen" data-height="426" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="NWKNYbL" style="height: 426px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="Search / List / Details - Final">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/NWKNYbL/">
  Search / List / Details - Final</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>The following sections are broken down into the following parts:</p>
<ul>
<li><strong>The problem</strong> — A description of what the section is trying to accomplish.</li>
<li><strong>What you need to know</strong> — Information about CanJS that is useful for solving the problem.</li>
<li><strong>How to verify it works</strong> - How to make sure the solution works (if it’s not obvious).</li>
<li><strong>The solution</strong> — The solution to the problem.</li>
</ul>
<h2>Setup</h2>
<h3>The problem</h3>
<p>In this section, we will fork <a href="https://codepen.io/bitovi/pen/PoYNNgJ?editors=1000">this CodePen</a> that contains some starting code that we will modify to have a Search, List, Details flow with lazy-loaded routes.</p>
<h3>What you need to know</h3>
<p>This CodePen:</p>
<ul>
<li>Loads all of CanJS’s packages. Each package is available as a named export. For example <a href="../../can-stache-element.html" title="Create a custom element with ObservableObject-like properties and stache views.">can-stache-element</a> is available as <code>import { StacheElement } from &quot;can&quot;;</code>.</li>
<li>Creates a basic <code>&lt;character-search-app&gt;</code> element.</li>
<li>Includes a <code>&lt;mock-url&gt;</code> element for interacting with the route of the CodePen page.</li>
</ul>
<h3>The solution</h3>
<p><strong>START THIS TUTORIAL BY CLONING THE FOLLOWING CodePen</strong>:</p>
<blockquote>
<p>Click the <code>EDIT ON CODEPEN</code> button.  The CodePen will open in a new window. In that new window,  click <code>FORK</code>.</p>
</blockquote>
<p class="codepen" data-height="316" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="PoYNNgJ" style="height: 316px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="Search / List / Details - Setup">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/PoYNNgJ/">
  Search / List / Details - Setup</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<h2>Configure routing</h2>
<h3>The problem</h3>
<p>In this section, we will:</p>
<ul>
<li>Import <a href="../../can-route.html" title="Manage browser history and client state by synchronizing the window.location.hash with an observable. See the Routing for in depth examples.">can-route</a>.</li>
<li>Define a <code>routeData</code> property whose value is <a href="../../can-route.data.html" title="An observable key-value object used to cross bind to the url observable can-route.urlData. Set it to cross-bind a top level state object (Application ViewModel) to can-route.">route.data</a>.</li>
<li>Set up &quot;pretty&quot; routing rules.</li>
<li>Initialize <a href="../../can-route.html" title="Manage browser history and client state by synchronizing the window.location.hash with an observable. See the Routing for in depth examples.">can-route</a>.</li>
</ul>
<p>We want to support the following URL patterns:</p>
<ul>
<li><code>#!</code></li>
<li><code>#!search</code></li>
<li><code>#!list/rick</code></li>
<li><code>#!details/rick/1</code></li>
</ul>
<h3>What you need to know</h3>
<ul>
<li>Use <a href="../../can-observable-object/define/default.html" title="Specifies the default value for instances of the defined type.">default</a> to create element properties that default to objects:</li>
</ul>
<pre><code class="language-js">class MyElement extends StacheElement {
  static props = {
    dueDate: {
      get default() {
        return new Date();
      }
    }
  };
}
</code></pre>
<ul>
<li><code>route.register( &quot;{abc}&quot; );</code> will create a URL matching rule.</li>
</ul>
<pre><code class="language-js">// default route - if hash is empty, default `viewModel.abc` to `&quot;xyz&quot;`
route.register( &quot;&quot;, { abc: &quot;xyz&quot; });

// match routes like `#!xyz` - sets `viewModel.abc` to `xyz`
route.register( &quot;{abc}&quot; );

// match routes like `#!xyz/uvw` - sets `viewModel.abc` to `xyz`, `viewModel.def` to `uvw`
route.register( &quot;{abc}/{def}&quot; );
</code></pre>
<ul>
<li><code>route.start()</code> will initialize <a href="../../can-route.html" title="Manage browser history and client state by synchronizing the window.location.hash with an observable. See the Routing for in depth examples.">can-route</a>.</li>
</ul>
<h3>How to verify it works</h3>
<p>You can access the app’s properties using <code>document.querySelector(&quot;character-search-app&quot;)</code> from the console.</p>
<p>You should be able to update the element properties and see the URL update. Also, updating the URL should update the properties on the element.</p>
<h3>The solution</h3>
<p>Update the <strong>JavaScript</strong> tab to:</p>
<pre><code class="language-js">import { StacheElement, route } from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

class CharacterSearchApp extends StacheElement {
  static view = `
    &lt;div class=&quot;header&quot;&gt;
      &lt;img src=&quot;https://image.ibb.co/nzProU/rick_morty.png&quot; width=&quot;400&quot; height=&quot;151&quot;&gt;
    &lt;/div&gt;
  `;

  static props = {
    routeData: {
      get default() {
        route.register(&quot;&quot;, { page: &quot;search&quot; });
        route.register(&quot;{page}&quot;);
        route.register(&quot;{page}/{query}&quot;);
        route.register(&quot;{page}/{query}/{characterId}&quot;);

        route.start();

        return route.data;
      }
    }
  };
}

customElements.define(&quot;character-search-app&quot;, CharacterSearchApp);

</code></pre>
<div line-highlight='1,11-22'></div>
<h2>Lazy load elements</h2>
<h3>The problem</h3>
<p>In this section, we will load the code for each route when that route is displayed. This technique prevents loading code for routes a user may never visit.</p>
<p>The elements we will use for each route are available as ES Modules on <a href="https://unpkg.com/">unpkg</a>:</p>
<ul>
<li><a href="//unpkg.com/character-search-components@6/character-search.mjs">//unpkg.com/character-search-components@6/character-search.mjs</a></li>
<li><a href="//unpkg.com/character-search-components@6/character-list.mjs">//unpkg.com/character-search-components@6/character-list.mjs</a></li>
<li><a href="//unpkg.com/character-search-components@6/character-details.mjs">//unpkg.com/character-search-components@6/character-details.mjs</a></li>
</ul>
<h3>What you need to know</h3>
<ul>
<li>Use <a href="../../can-observable-object/define/get.html" title="Specify what happens when a certain property is read on an object. get functions
are computed and automatically update themselves when a dependent
observable value is changed.">get</a> to create virtual properties that will be re-evaluated when an observable property they depend on changes:</li>
</ul>
<pre><code class="language-js">class Person extends ObservableObject {
  static props = {
    first: {
      default: &quot;Kevin&quot;
    },
    last: {
      default: &quot;McCallister&quot;
    }
  };
  // The name property will update whenever `first` or `last` changes
  get name() {
    return this.first + &quot; &quot; + this.last;
  }
}

// make sure to put `name` in the view so that bindings are set up correctly
static view = `{{ name }}`;
</code></pre>
<ul>
<li>Call the <code>import()</code> keyword as a function to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Dynamic_Imports">dynamically import</a> a module.</li>
</ul>
<h3>How to verify it works</h3>
<p>Changing the <code>routeData.page</code> property will cause the code for the new route to be loaded in the devtools Network Tab.</p>
<h3>The solution</h3>
<p>Update the <strong>JavaScript</strong> tab to:</p>
<pre><code class="language-js">import { StacheElement, route } from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

class CharacterSearchApp extends StacheElement {
  static view = `
    &lt;div class=&quot;header&quot;&gt;
      &lt;img src=&quot;https://image.ibb.co/nzProU/rick_morty.png&quot; width=&quot;400&quot; height=&quot;151&quot;&gt;
    &lt;/div&gt;

    {{ this.routeComponent }}
  `;

  static props = {
    routeData: {
      get default() {
        route.register(&quot;&quot;, { page: &quot;search&quot; });
        route.register(&quot;{page}&quot;);
        route.register(&quot;{page}/{query}&quot;);
        route.register(&quot;{page}/{query}/{characterId}&quot;);

        route.start();

        return route.data;
      }
    },

    get routeComponent() {
      const componentURL =
        &quot;//unpkg.com/character-search-components@6/character-&quot; +
        this.routeData.page +
        &quot;.mjs&quot;;

      return import(componentURL).then(module =&gt; {});
    }
  };
}
customElements.define(&quot;character-search-app&quot;, CharacterSearchApp);

</code></pre>
<div line-highlight='9,26-33'></div>
<h2>Display elements</h2>
<h3>The problem</h3>
<p>Now that the code is loaded for each route, we can create an instance of the loaded element and display it in the view.</p>
<h3>What you need to know</h3>
<ul>
<li><code>import()</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">promise</a>.</li>
<li>Promises can be <a href="../../can-reflect-promise.html" title="Expose an observable, Map-like API on Promise types.">used directly</a> in the view.</li>
</ul>
<pre><code class="language-js">class MyElement extends StacheElement {
  static view = `
    {{# if(this.aPromise.isPending) }}
      The code is still loading
    {{/ if }}

    {{# if(this.aPromise.isRejected) }}
      There was an error loading the code
    {{/ if }}

    {{# if(this.aPromise.isResolved) }}
      The code is loaded: {{ this.aPromise.value }} -&gt; Hello
    {{/ if }}
  `;
  static props = {
    aPromise: {
      get default() {
        return new Promise((resolve) =&gt; {
          resolve(&quot;Hello&quot;);
        });
      }
    }
  };
}
</code></pre>
<ul>
<li><code>import()</code> resolves with a module object - <code>module.default</code> is the element constructor.</li>
<li>Elements can be instantiated programmatically using <code>new ElementConstructor()</code>.</li>
</ul>
<h3>How to verify it works</h3>
<p>You can check the devtools Elements Panel for the correct element on each page:</p>
<ul>
<li><code>#!search</code> -&gt; <code>&lt;character-search-page&gt;</code></li>
<li><code>#!list</code> -&gt; <code>&lt;character-list-page&gt;</code></li>
<li><code>#!details</code> -&gt; <code>&lt;character-details-page&gt;</code></li>
</ul>
<h3>The solution</h3>
<p>Update the <strong>JavaScript</strong> tab to:</p>
<pre><code class="language-js">import { StacheElement, route } from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

class CharacterSearchApp extends StacheElement {
  static view = `
    &lt;div class=&quot;header&quot;&gt;
      &lt;img src=&quot;https://image.ibb.co/nzProU/rick_morty.png&quot; width=&quot;400&quot; height=&quot;151&quot;&gt;
    &lt;/div&gt;

    {{# if(this.routeComponent.isPending) }}
      Loading…
    {{/ if }}

    {{# if(this.routeComponent.isResolved) }}
      {{ this.routeComponent.value }}
    {{/ if }}
  `;

  static props = {
    routeData: {
      get default() {
        route.register(&quot;&quot;, { page: &quot;search&quot; });
        route.register(&quot;{page}&quot;);
        route.register(&quot;{page}/{query}&quot;);
        route.register(&quot;{page}/{query}/{characterId}&quot;);

        route.start();

        return route.data;
      }
    },

    get routeComponent() {
      const componentURL =
        &quot;//unpkg.com/character-search-components@6/character-&quot; +
        this.routeData.page +
        &quot;.mjs&quot;;

      return import(componentURL).then(module =&gt; {
        const ElementConstructor = module.default;

        return new ElementConstructor();
      });
    }
  };
}

customElements.define(&quot;character-search-app&quot;, CharacterSearchApp);

</code></pre>
<div line-highlight='9-15,38-42'></div>
<h2>Pass data to elements</h2>
<h3>The problem</h3>
<p>After the last step, the correct element is displayed for each route, but the elements do not work correctly. To make these work, we will pass properties from the <code>character-search-app</code> element into each element.</p>
<h3>What you need to know</h3>
<ul>
<li>The <a href="../../can-stache-element/lifecycle-methods.bindings.html" title="Programmatically instantiate a component">bindings lifecycle method</a> can be used to create bindings between an element’s properties and parent observables.</li>
<li><a href="../../can-value.html" title="Get an observable that’s bound to a specific property on another object.">can-value</a> can be used to programmatically create observables that are bound to another object.</li>
</ul>
<pre><code class="language-js">const elementInstance = new ElementConstructor().bindings({
  givenName: value.from(this, &quot;name.first&quot;),
  familyName: value.bind(this, &quot;name.last&quot;),
  fullName: value.to(this, &quot;name.full&quot;)
});
</code></pre>
<ul>
<li>The element for all three pages need a <code>query</code> property. The <code>&lt;character-details-page&gt;</code> also needs an <code>id</code> property.</li>
</ul>
<h3>How to verify it works</h3>
<p>The app should be fully functional:</p>
<ul>
<li>Typing in the <code>&lt;input&gt;</code> and clicking the <code>Search</code> button should take you to the list page with a list of matching characters.</li>
<li>Clicking a character on the list page should take you to the details page for that character.</li>
<li>Clicking the <code>&lt; Characters</code> button should take you back to the list page.</li>
<li>Clicking the <code>&lt; Search</code> button should take you back to the search page with the query still populated in the <code>&lt;input&gt;</code>.</li>
</ul>
<h3>The solution</h3>
<p>Update the <strong>JavaScript</strong> tab to:</p>
<pre><code class="language-js">import { StacheElement, route, value } from &quot;//unpkg.com/can@6/ecosystem.mjs&quot;;

class CharacterSearchApp extends StacheElement {
  static view = `
    &lt;div class=&quot;header&quot;&gt;
      &lt;img src=&quot;https://image.ibb.co/nzProU/rick_morty.png&quot; width=&quot;300&quot; height=&quot;113&quot;&gt;
    &lt;/div&gt;

    {{# if(this.routeComponent.isPending) }}
      Loading...
    {{/ if }}

    {{# if(this.routeComponent.isResolved) }}
      {{ this.routeComponent.value }}
    {{/ if }}
  `;

  static props = {
    routeData: {
      get default() {
        route.register(&quot;&quot;, { page: &quot;search&quot; });
        route.register(&quot;{page}&quot;);
        route.register(&quot;{page}/{query}&quot;);
        route.register(&quot;{page}/{query}/{characterId}&quot;);

        route.start();

        return route.data;
      }
    },

    get routeComponentData() {
      switch (this.routeData.page) {
        case &quot;search&quot;:
        case &quot;list&quot;:
          return {
            query: value.from(this.routeData, &quot;query&quot;)
          };

        case &quot;details&quot;:
          return {
            query: value.from(this.routeData, &quot;query&quot;),
            id: value.from(this.routeData, &quot;characterId&quot;)
          };
      }
    },

    get routeComponent() {
      const componentURL =
        &quot;//unpkg.com/character-search-components@6/character-&quot; +
        this.routeData.page +
        &quot;.mjs&quot;;

      return import(componentURL).then(module =&gt; {
        const ElementConstructor = module.default;

        return new ElementConstructor().bindings(this.routeComponentData);
      });
    }
  };
}

customElements.define(&quot;character-search-app&quot;, CharacterSearchApp);

</code></pre>
<div line-highlight='1,32-46,57'></div>
<h2>Result</h2>
<p>When complete, you should have a working Search, List, Details flow like the following CodePen:</p>
<p class="codepen" data-height="426" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="NWKNYbL" style="height: 426px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="Search / List / Details - Final">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/NWKNYbL/">
  Search / List / Details - Final</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

</section>

  


<script type="text/javascript">
  window.docObject = {"src":{"path":"docs/can-guides/commitment/recipes/search-list-details/search-list-details.md"},"description":"This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes. \n","name":"guides/recipes/search-list-details","title":"Search, List, Details","type":"page","parent":"guides/recipes/advanced","comment":" ","pathToRoot":"../../.."};
</script>
</article>
      
        <footer><p>CanJS is part of <a href="https://donejs.com" target="_blank">DoneJS</a>. Created and maintained by the core <a href="https://donejs.com/About.html#team" target="_blank">DoneJS team</a> and <a href="https://www.bitovi.com" target="_blank">Bitovi</a>. <strong>Currently 6.6.1.</strong></p>
</footer>
      

  </div>
  <div id="toc-sidebar" class="column">
    <nav>
      <h1 class="hide">On this page</h1>
    </nav>
    <div class="get-help">
      <h1>Get help</h1>
      <ul>
        <li><a href="https://www.bitovi.com/community/slack" target="_blank" class="icon-slack">Chat with us</a></li>
        <li><a href="https://github.com/canjs/canjs/issues/new" target="_blank" class="icon-github">File an issue</a></li>
        <li><a href="https://forums.bitovi.com/c/canjs" target="_blank" class="icon-forums">Ask questions</a></li>
        <li><a href="https://www.bitovi.com/blog/topic/canjs" target="_blank" class="icon-blog">Read latest news</a></li>
      </ul>
    </div>
  </div>
</div>

		
			<script>
				steal = {
				  	instantiated: {
				    	"bundles/bit-docs-site/static.css!$css" : null
				  	}
			  	};
			</script>
			<script type='text/javascript' data-main="bit-docs-site/static" src="../../static/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>

		<!-- root-level elements with attributes necessary for the app -->
		<div path-prefix="../.."></div>

	</body>
</html>
