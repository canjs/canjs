<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE ‚Äî ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: docs/can-guides/commitment/recipes/weather-report/beginner/weather-report.md
	@page guides/recipes/weather-report-simple
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Weather Report | beginner recipes | Guides | CanJS ‚Äî Build CRUD apps in fewer lines of code.</title>
	<meta name="description" content="This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.2.">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta property="og:image" content="https://www.bitovi.com/hubfs/open-source/os-canjs.png">
	<meta property="og:description" content="This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.2.">
	<meta property="og:title" content="Weather Report | beginner recipes | Guides | CanJS ‚Äî Build CRUD apps in fewer lines of code.">
	<script type="application/ld+json">
		{
			"@context": "http://www.schema.org",
			"@type": "SoftwareSourceCode",
			"applicationCategory": "DeveloperApplication",
			"brand": "Bitovi",
			"category": "JavaScript Frameworks",
			"codeRepository": "https://github.com/canjs/canjs",
			"description": "This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.2.",
			"image": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"license": "https://github.com/canjs/canjs/blob/master/license.md",
			"logo": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"name": "Weather Report | beginner recipes | Guides | CanJS ‚Äî Build CRUD apps in fewer lines of code.",
			"programmingLanguage": "JavaScript",
			"softwareVersion" : "6.6.1"
		}
	</script>
	
		<link rel="stylesheet" type="text/css" href="../../static/bundles/bit-docs-site/static.css">
		<link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/docs/images/canjs_favicon.ico">
		<link rel="apple-touch-icon" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon" sizes="72x72" href="../../../docs/images/canjs_favicon_72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="../../../docs/images/canjs_favicon_114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../../../docs/images/canjs_favicon_128x128.png">
		<link rel="apple-touch-icon" sizes="144x144" href="../../../docs/images/canjs_favicon_144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../../../docs/images/canjs_favicon_152x152.png">
		<meta content="yes" name="apple-mobile-web-app-capable">
	  	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-11', 'auto');
			ga('send', 'pageview');
		</script>
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
	  	<div data-current-page="guides/recipes/weather-report-simple" id="everything">
  <div class="header">
    
	<label for="nav-trigger">Menu</label>
	<div class="brand">
		<div class="logo">
			<a href="../../../index.html" alt="CanJS"></a>
			<div class="dropdown project-dropdown">
				<a href="https://donejs.com/">DoneJS</a>
				<a href="https://stealjs.com/">StealJS</a>
				<a href="https://jquerypp.com/">jQuery++</a>
				<a href="https://funcunit.com/">FuncUnit</a>
				<a href="https://documentjs.com/">DocumentJS</a>
			</div>
		</div>
		<div class="version">
			<div class="version-number">
				6.6.1
			</div>
			<div class="dropdown version-dropdown">
				
					<a href="https://v5.canjs.com">5.33.3</a>
				
					<a href="https://v4.canjs.com">4.3.0</a>
				
					<a href="https://v3.canjs.com">3.14.1</a>
				
					<a href="https://v2.canjs.com">2.3.35</a>
				
			</div>
		</div>
	</div>


	
	<ul class="top-right-links">
		
			
				
					<li class="">
						<a class="page"
							href="../../about.html"
							title="Learn about CanJS‚Äôs mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
					</li>
				
			
		
			
				
					<li class="current">
						<a class="page"
							href="../../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="../contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
					</li>
				
			
		
	</ul>



<div class="search-section">
	<div class="search-bar">
	<div class="search-wrap" style="display:none;">
		<span class="search-icon"></span>
		<input
			type="text"
			size="6"
			class="search"
			placeholder="Search"
			autocomplete="off"
			autocorrect="off"
			autocapitalize="none"
			spellcheck="false"/>
			<span class="search-icon-cancel"></span>
	</div>
</div>

	<div class="search-bar-container">
	</div>
	<div class="search-results-container">
	<div class="search-results-wrap"></div>
</div>

</div>
<ul class="top-right-bitovi">
	<li class="dropdown">
		<a href="https://www.bitovi.com" class="bitovi by-bitovi">Bitovi</a>
		<ul class="dropdown-menu">
			<li><a href="https://www.bitovi.com/">Bitovi.com</a></li>
			<li><a href="https://www.bitovi.com/blog">Blog</a></li>
			<li><a href="https://www.bitovi.com/design">Design</a></li>
			<li><a href="https://www.bitovi.com/development">Development</a></li>
			<li><a href="https://www.bitovi.com/training">Training</a></li>
			<li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
			<li><a href="https://www.bitovi.com/about">About</a></li>
			<li><a href="https://www.bitovi.com/contact">Contact Us</a></li>
		</ul>
	</li>
</ul>

  </div>
  <div id="left" class="column">

      <div class="nav-menu">
        
            
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../about.html"
							title="Learn about CanJS‚Äôs mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
						
	<ul>
		
			
				
					<li>
						<span>getting started</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../crud-beginner.html"
							title="Learn how to build a basic CRUD app with CanJS in 30 minutes.">
							CRUD Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../setup.html"
							title="Learn how to install CanJS in your environment.">
							Setting Up CanJS
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../technology-overview.html"
							title="Learn the basics of CanJS‚Äôs technology.">
							Technology Overview
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>topics</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../html.html"
							title="Learn how to update HTML and listen to user interactions.">
							HTML
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../routing.html"
							title="Learn how to make your application respond to changes in the URL and work with the browser‚Äôs back and forward buttons.">
							Routing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../data.html"
							title="Learn how to use can-connect to integrate service layer APIs into your CanJS application.">
							Service Layer
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../debugging.html"
							title="Learn how to debug CanJS applications.">
							Debugging
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../forms.html"
							title="Learn how to create amazing &lt;form&gt;s with CanJS.">
							Forms
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../testing.html"
							title="Learn how to test CanJS applications.">
							Testing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../logic.html"
							title="Learn how to write observables in an organized, maintainable, and testable way.">
							Logic
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../server-side-rendering.html"
							title="Learn how to set up SSR for CanJS.">
							Server-Side Rendering
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>app guides</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../chat.html"
							title="This guide will walk you through building a real-time chat application with CanJS‚Äôs Core libraries.  It takes about 30 minutes to complete.">
							Chat Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../todomvc.html"
							title="This guide will walk you through building a slightly modified version of TodoMVC with CanJS‚Äôs Core libraries and can-fixture. It takes about 1 hour to complete.">
							TodoMVC Guide
						</a>
						

					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="todomvc-with-steal.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations covering CanJS core libraries.">
							TodoMVC with StealJS
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>beginner recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="canvas-clock.html"
							title="This beginner guide walks you through building a clock with the Canvas API.">
							Canvas Clock
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="credit-card-simple.html"
							title="This beginner guide walks through building a very simple credit card payment form.  It uses Stripe.js v2 API to create a token which can be used to create a charge.  It also performs simple validation on the payment form values.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="file-navigator-simple.html"
							title="This beginner guide walks you through building a simple file navigation widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.0.0. Check out the file-navigator-advanced for an example that makes AJAX requests for its data and uses can-stache-element.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="signup-simple.html"
							title="This beginner guide walks through building simple signup, login forms and a logout button.">
							Signup and Login
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="video-player.html"
							title="This beginner guide walks you through building custom video controls around a video element.">
							Video Player
						</a>
						

					</li>
				
			
		
			
				
					<li class="current
           						
           						expanded">
						<a class="page"
							href="weather-report-simple.html"
							title="This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with CanJS 6.2.">
							Weather Report
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>intermediate recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="cta-bus-map.html"
							title="This intermediate guide walks you through showing Chicago Transit Authority (CTA) bus locations on a Google Map. You&#x27;ll learn how to create a StacheElement that integrates with 3rd party widgets.">
							CTA Bus Map
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="modals.html"
							title="This intermediate guide shows how to create a multiple modal form.">
							Multiple Modals
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="text-editor.html"
							title="This intermediate guide walks you through building a basic rich text editor.">
							Text Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="tinder-carousel.html"
							title="This intermediate guide walks you through building a Tinder-like carousel. Learn how to build apps that use dragging user interactions.">
							Tinder Carousel
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>advanced recipes</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="credit-card-advanced.html"
							title="This advanced guide walks through building a simple credit card payment form with validations. It doesn‚Äôt use can-define. Instead it uses Kefir.js streams to make a ViewModel. can-kefir is used to make the Kefir streams observable to can-stache.">
							Credit Card
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="file-navigator-advanced.html"
							title="This advanced guide walks you through building a file navigation widget that requests data with fetch. It takes about 45 minutes to complete.">
							File Navigator
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="playlist-editor.html"
							title="Learn how to use YouTube‚Äôs API to search for videos and make a playlist.  This makes authenticated requests with OAuth2. It uses jQuery++ for drag/drop events. It shows using custom attributes and custom events.  This advanced guide takes an hour to complete.  This recipe uses YouTube API Services and follows YouTube Terms of Service and Google Privacy Policy">
							Playlist Editor
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="search-list-details.html"
							title="This advanced guide walks through building a Search, List, Details flow with lazy-loaded routes.">
							Search, List, Details
						</a>
						

					</li>
				
			
		
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>upgrade</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-3.html"
							title="This guide walks you through the step-by-step process to upgrade a 2.x app to CanJS 3.">
							Migrating to CanJS 3
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-4.html"
							title="This guide walks you through the step-by-step process to upgrade a 3.x app to CanJS 4.">
							Migrating to CanJS 4
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-5.html"
							title="This guide walks you through the process to upgrade a 4.x app to CanJS 5.x.">
							Migrating to CanJS 5
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-6.html"
							title="This guide walks you through the process to upgrade a 5.x app to CanJS 6.x.">
							Migrating to CanJS 6
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../upgrade/using-codemods.html"
							title="Learn how to migrate your app to CanJS 6 using can-migrate.">
							Using Codemods
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>other</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../api.html"
							title="This page walks through how to use and understand CanJS‚Äôs API documentation.">
							Reading the API Docs
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
						

					</li>
				
			
		
	</ul>


        
      </div>
      <div class="social-side-container">
        <ul class="social-side">
  <li>
    <a class="header-mobile github" href="https://github.com/canjs/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/github.png">GitHub</a>
  </li>
  <li>
    <a class="header-mobile twitter" href="https://twitter.com/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/twitter.png">Twitter</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/community/slack" target="_blank">Chat</a>
  </li>
  <li>
    <a class="header-mobile" href="https://forums.bitovi.com/c/canjs" target="_blank">Forum</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/blog/topic/canjs" target="_blank">News</a>
  </li>
  <li></li>
</ul>

      </div>
      <div class="by-bitovi-container">
        <a href="https://www.bitovi.com" target="_blank" class="bitovi by-bitovi">Bitovi</a>
      </div>

  </div>
  <div id="right" class="column">

      <article>
  <section class="title">
	<div class="page-type">
		<h1>Weather Report</h1>
			<ul class="title-social">
				
				
				<li>
					<a class="button-link" href="//github.com/canjs/canjs/edit/master/docs/can-guides/commitment/recipes/weather-report/beginner/weather-report.md">Edit on GitHub</a>
				</li>
				
			</ul>
	</div>
	<div class="clear-both"></div>
	
  
	<section class="description">
    <p>This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with
CanJS 6.2.</p>

</section>

  
	
</section>
<section class="on-this-page-table">
	<!--<h2 class="on-this-page-title" data-skip>Page Content</h2>-->
</section>










  
    <section class="body">
    <p>The final widget looks like:</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="VwwQBVy" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Weather Report Guide (CanJS 6 Beginner) [Finished]">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/VwwQBVy">
  Weather Report Guide (CanJS 6 Beginner) [Finished]</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>To use the widget:</p>
<ol>
<li><strong>Enter</strong> a location (example: <em>Chicago</em>)</li>
<li>See the 5-Day forecast for the city you entered.</li>
</ol>
<p><strong>Start this tutorial by cloning the following CodePen</strong>:</p>
<p class="codepen" data-height="354" data-theme-id="0" data-default-tab="html,result" data-user="bitovi" data-slug-hash="BaaryMN" style="height: 354px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Weather Report Guide (CanJS 6 Beginner) [Starter]">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/BaaryMN">
  Weather Report Guide (CanJS 6 Beginner) [Starter]</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>This CodePen has initial prototype HTML and CSS which is useful for
getting the application to look right.</p>
<p>This starter code includes:</p>
<ul>
<li>Initial prototype HTML and CSS which is useful for getting the application to look right</li>
<li>Pre-made styles so the app looks pretty üòç</li>
</ul>
<p>The following sections are broken down into:</p>
<ul>
<li><strong>The problem</strong> ‚Äî A description of what the section is trying to accomplish.</li>
<li><strong>What you need to know</strong> ‚Äî Information about CanJS that is useful for solving the problem.</li>
<li><strong>The solution</strong> ‚Äî The solution to the problem.</li>
</ul>
<h2>Setup</h2>
<h3>The problem</h3>
<p>Set up this CanJS app by:</p>
<ol>
<li>Defining a <code>WeatherReport</code> <a href="../../can-stache-element.html" title="Create a custom element with ObservableObject-like properties and stache views.">can-stache-element</a> class.</li>
<li>Defining a custom element that outputs the pre-constructed HTML.</li>
<li>Rendering the template by using the custom element.</li>
</ol>
<h3>What you need to know</h3>
<ul>
<li><p>A basic CanJS setup uses instances of a <a href="../../can-stache-element.html" title="Create a custom element with ObservableObject-like properties and stache views.">StacheElement</a>, which
glues <a href="../../can-observable-object.html" title="Create observable objects used to manage state in explicitly defined ways.">ObservableObject</a>-like properties to a <a href="../../can-stache-element/static.view.html" title="Provides a way to render the element's innerHTML using a can-stache template."><code>view</code></a> in order
 to manage its behavior as follows:</p>
<pre><code class="language-js">import { StacheElement } from &quot;//unpkg.com/can@6/core.mjs&quot;;

// Define the Component
class MyComponent extends StacheElement {
  static view = `‚Ä¶`;

  static props = {};
}

// Define the custom element tag
customElements.define(&quot;my-component&quot;, CCPayment);
</code></pre></li>
<li><p>CanJS components will be mounted in the DOM by adding the component tag in the HTML page:</p>
<pre><code class="language-html">&lt;my-component&gt;&lt;/my-component&gt;
</code></pre></li>
</ul>
<h3>The solution</h3>
<p>Update the <strong>JavaScript</strong> tab to:</p>
<ul>
<li>Define <a href="../../can-stache-element.html" title="Create a custom element with ObservableObject-like properties and stache views.">can-stache-element</a> class</li>
<li>Define element‚Äôs view by copying the content of the <strong>HTML</strong> tab in the <strong>view</strong> property</li>
<li>Register the custom element tag by using <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define">customElements.define</a></li>
</ul>
<pre><code class="language-js">import { StacheElement } from &quot;//unpkg.com/can@6/core.mjs&quot;;

class WeatherReport extends StacheElement {
    static view = `
        &lt;div class=&quot;weather-widget&quot;&gt;
            &lt;div class=&quot;location-entry&quot;&gt;
                &lt;label for=&quot;location&quot;&gt;Enter your location:&lt;/label&gt;
                &lt;input id=&quot;location&quot; type=&quot;text&quot; /&gt;
            &lt;/div&gt;

            &lt;p class=&quot;loading-message&quot;&gt;Loading forecast‚Ä¶&lt;/p&gt;

            &lt;div class=&quot;forecast&quot;&gt;
                &lt;h1&gt;5-Day Chicago Weather Forecast&lt;/h1&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;span class=&quot;date&quot;&gt;Today&lt;/span&gt;
                        &lt;span class=&quot;description light-rain&quot;&gt;light rain&lt;/span&gt;
                        &lt;span class=&quot;high-temp&quot;&gt;100&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                        &lt;span class=&quot;low-temp&quot;&gt;-10&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    `;
}
customElements.define(&quot;weather-report&quot;, WeatherReport);

</code></pre>
<div line-highlight='1-27'></div>
<p>Update the <strong>HTML</strong> tab to replace the old template with custom element:</p>
<pre><code class="language-html">&lt;weather-report&gt;&lt;/weather-report&gt;

&lt;script&gt;
    const appKey = &quot;17ba01d3931252096b4ab03df56891cd&quot;;

    function transformData(data) {
        let forecasts = [];
        const today = new Date();

        const transformedForecast = data.list.map(item =&gt; {
            return {
                date: new Date(item.dt_txt),
                high: item.main.temp_max,
                icon: item.weather[0].icon,
                low: item.main.temp_min,
                text: item.weather[0].description
            };
        });

        const todayForecasts = transformedForecast.filter(forecast =&gt; {
            const forecastDate = forecast.date;
            return today.getDate() === forecastDate.getDate();
        });

        if (todayForecasts.length) {
            forecasts.push(todayForecasts[0]);
        }

        const nextDaysForecasts = transformedForecast.filter(forecast =&gt; {
            const forecastDate = forecast.date;
            return (
                today.getDate() !== forecastDate.getDate() &amp;&amp;
                forecastDate.getHours() === 12
            );
        });

        forecasts = forecasts.concat(nextDaysForecasts);

        return forecasts;
    }
&lt;/script&gt;

</code></pre>
<div line-highlight='1,only'></div>
<h2>Allow a user to enter a location</h2>
<h3>The problem</h3>
<p>We want an <code>input</code> element to:</p>
<ul>
<li>Allow a person to type a location to search for weather.</li>
<li>Show the user the location they typed.</li>
</ul>
<h3>What you need to know</h3>
<ul>
<li><p>The properties defined in the <a href="../../can-stache-element/static.props.html" title="A static property used to create ObservableObject-like properties on each StacheElement instance."><code>props</code></a> object can have default values like:</p>
<pre><code class="language-js">class MyComponent extends StacheElement {
  static props = {
    age: {
      default: 34
    }
  };
}
</code></pre></li>
<li><p>CanJS components use <a href="../../can-stache.html" title="Live binding templates.">can-stache</a> to render data in a template and keep it live.</p></li>
<li><p>The <a href="../../can-stache-bindings.toParent.html" title="One-way bind a value from the StacheElement, can-component ViewModel, or element to the parent scope.">key:to</a> binding can set an input‚Äôs <code>value</code> to an element property like:</p>
<pre><code class="language-html">&lt;input value:to=&quot;this.age&quot; /&gt;
</code></pre></li>
</ul>
<h3>The solution</h3>
<p>Update the <strong>JavaScript</strong> tab to:</p>
<ol>
<li>Define a <code>location</code> property as a string.</li>
<li>Update <code>location</code> value on the element when the input changes.</li>
<li>Show value of the element‚Äôs <code>location</code> property.</li>
</ol>
<pre><code class="language-js">import { StacheElement } from &quot;//unpkg.com/can@6/core.mjs&quot;;

class WeatherReport extends StacheElement {
    static view = `
        &lt;div class=&quot;weather-widget&quot;&gt;
            &lt;div class=&quot;location-entry&quot;&gt;
                &lt;label for=&quot;location&quot;&gt;Enter your location:&lt;/label&gt;
                &lt;input id=&quot;location&quot; type=&quot;text&quot; value:to=&quot;this.location&quot; /&gt;
            &lt;/div&gt;

            &lt;p class=&quot;loading-message&quot;&gt;Loading forecast‚Ä¶&lt;/p&gt;

            &lt;div class=&quot;forecast&quot;&gt;
                &lt;h1&gt;5-Day {{ this.location }} Weather Forecast&lt;/h1&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;span class=&quot;date&quot;&gt;Today&lt;/span&gt;
                        &lt;span class=&quot;description light-rain&quot;&gt;light rain&lt;/span&gt;
                        &lt;span class=&quot;high-temp&quot;&gt;100&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                        &lt;span class=&quot;low-temp&quot;&gt;-10&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    `;

    static props = {
        location: String
    };
}
customElements.define(&quot;weather-report&quot;, WeatherReport);

</code></pre>
<div line-highlight='8,14,27-29,only'></div>
<h2>Get the forecast</h2>
<h3>The problem</h3>
<p>Once we‚Äôve entered a city, we need to get the forecast data.</p>
<h3>What you need to know</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get">ES5 getter syntax</a> can
be used to define a <a href="../../can-stache-element/static.props.html" title="A static property used to create ObservableObject-like properties on each StacheElement instance.">props</a> property that changes when another property changes.  For example,
the following defines an <code>excitedMessage</code> property that always has a <code>!</code> after the <code>message</code> property:</p>
<pre><code class="language-js">class MyElement extends StacheElement
  static props = {
    get excitedMessage() {
      return this.message+&quot;!&quot;;
    },
    message: &quot;string&quot;
  }
});
</code></pre></li>
<li><p>Use <a href="../../can-stache.helpers.if.html" title="can-stache.helpers.if">{{# if(value) }}</a> to do <code>if/else</code> branching in <a href="../../can-stache.html" title="Live binding templates.">can-stache</a>.</p></li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a> are observable in <a href="../../can-stache.html" title="Live binding templates.">can-stache</a>.  Given a promise <code>somePromise</code>, you can:</p>
<ul>
<li>Check if the promise is loading like: <code>{{# if(somePromise.isPending) }}</code>.</li>
</ul></li>
<li><p><a href="https://openweathermap.org/forecast5">Open Weather Map</a> provides a service endpoint for
retrieving a forecast that matches a city name. For example, the following requests the forecast
for Chicago:</p>
<pre><code>https://api.openweathermap.org/data/2.5/forecast?q=Chicago&amp;mode=json&amp;units=imperial&amp;apiKey=17ba01d3931252096b4ab03df56891cd
</code></pre></li>
<li><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch API</a> is an easy way to make requests
to a URL and get back JSON.  Use it like:</p>
<pre><code class="language-js">fetch(url).then(response =&gt; {
  return response.json();
}).then(data =&gt; {
});
</code></pre></li>
<li><p><a href="../../can-param.html" title="Serialize an object or array into a query string.">can-param</a> is able to convert an object into a
query string format like:</p>
<pre><code class="language-js">param({format: &quot;json&quot;, q: &quot;chicago&quot;}) //-&gt; &quot;format=json&amp;q=chicago&quot;
</code></pre></li>
</ul>
<h3>The solution</h3>
<p>Update the template in the <strong>JS</strong> tab to:</p>
<ol>
<li>Wrap the loading message with <code>{{# if(this.forecastPromise.isPending) }}</code></li>
<li>Wrap the forecast with <code>{{# if(this.forecastPromise.isResolved) }}</code></li>
<li>Define a <code>forecastPromise</code> property that gets the forecast.</li>
</ol>
<pre><code class="language-js">import { param, StacheElement } from &quot;//unpkg.com/can@6/core.mjs&quot;;

class WeatherReport extends StacheElement {
    static view = `
        &lt;div class=&quot;weather-widget&quot;&gt;
            &lt;div class=&quot;location-entry&quot;&gt;
                &lt;label for=&quot;location&quot;&gt;Enter your location:&lt;/label&gt;
                &lt;input id=&quot;location&quot; type=&quot;text&quot; value:to=&quot;this.location&quot; /&gt;
            &lt;/div&gt;

            {{# if(this.forecastPromise.isPending) }}
                &lt;p class=&quot;loading-message&quot;&gt;Loading forecast‚Ä¶&lt;/p&gt;
            {{/ if }}

            {{# if(this.forecastPromise.isResolved) }}
                &lt;div class=&quot;forecast&quot;&gt;
                    &lt;h1&gt;5-Day {{ this.location }} Weather Forecast&lt;/h1&gt;
                    &lt;ul&gt;
                        &lt;li&gt;
                            &lt;span class=&quot;date&quot;&gt;Today&lt;/span&gt;
                            &lt;span class=&quot;description light-rain&quot;&gt;light rain&lt;/span&gt;
                            &lt;span class=&quot;high-temp&quot;&gt;100&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                            &lt;span class=&quot;low-temp&quot;&gt;-10&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            {{/ if }}
        &lt;/div&gt;
    `;

    static props = {
        get forecastPromise() {
            if (this.location) {
                return fetch(
                    &quot;https://api.openweathermap.org/data/2.5/forecast?&quot; +
                        param({
                            apiKey: appKey,
                            mode: &quot;json&quot;,
                            q: this.location,
                            units: &quot;imperial&quot;
                        })
                )
                    .then(response =&gt; {
                        return response.json();
                    })
                    .then(transformData);
            }
        },
        location: String
    };
}
customElements.define(&quot;weather-report&quot;, WeatherReport);

</code></pre>
<div line-highlight='1,11,13,15,27,32-48,only'></div>
<h2>Display the forecast</h2>
<h3>The problem</h3>
<p>Now that we‚Äôve fetched the forecast data, we need to display it in the app.</p>
<h3>What you need to know</h3>
<ul>
<li><p>Use <a href="../../can-stache.helpers.for-of.html" title="Loop through a list of values, keys in an object, or integers.">{{# for(of) }}</a> to do looping in <a href="../../can-stache.html" title="Live binding templates.">can-stache</a>.</p></li>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a> are observable in <a href="../../can-stache.html" title="Live binding templates.">can-stache</a>.  Given a promise <code>somePromise</code>, you can:</p>
<ul>
<li>Loop through the resolved value of the promise like: <code>{{# for(item of somePromise.value) }}</code>.</li>
</ul></li>
<li><p>Methods on the element can be <a href="../../can-stache/expressions/call.html" title="">called</a> within a <a href="../../can-stache.html" title="Live binding templates.">can-stache</a> template like:</p>
<pre><code class="language-handlebars">{{ this.myMethod(someValue) }}
</code></pre></li>
<li><p>The stylesheet includes icons for classNames that match: <code>sunny</code>, <code>light-rain</code>, <code>scattered-clouds</code>, etc.</p></li>
<li><p>You can check whether one <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a> is equal to another Date by calling <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getDate">getDate</a> on both dates and comparing the values.</p></li>
</ul>
<h3>The solution</h3>
<p>Update the template in the <strong>JS</strong> tab to:</p>
<ol>
<li>Display each forecast day‚Äôs details (date, text, high, and low).</li>
<li>Define a <code>toClassName</code> method that lowercases and hyphenates any text passed in.</li>
<li>Use the <code>toClassName</code> method to convert the forecast‚Äôs <code>text</code> into a <code>className</code> value that</li>
<li>Define <code>isToday</code> method that returns <code>true</code> if the passed date is today
will be matched by the stylesheet.</li>
<li>Use the <code>isToday</code> method to display the term <code>Today</code> instead of today‚Äôs date.</li>
</ol>
<pre><code class="language-js">import { param, StacheElement } from &quot;//unpkg.com/can@6/core.mjs&quot;;

class WeatherReport extends StacheElement {
    static view = `
        &lt;div class=&quot;weather-widget&quot;&gt;
            &lt;div class=&quot;location-entry&quot;&gt;
                &lt;label for=&quot;location&quot;&gt;Enter your location:&lt;/label&gt;
                &lt;input id=&quot;location&quot; type=&quot;text&quot; value:to=&quot;this.location&quot; /&gt;
            &lt;/div&gt;

            {{# if(this.forecastPromise.isPending) }}
                &lt;p class=&quot;loading-message&quot;&gt;Loading forecast‚Ä¶&lt;/p&gt;
            {{/ if }}

            {{# if(this.forecastPromise.isResolved) }}
                &lt;div class=&quot;forecast&quot;&gt;
                    &lt;h1&gt;5-Day {{ this.location }} Weather Forecast&lt;/h1&gt;
                    &lt;ul&gt;
                        {{# for(forecast of this.forecastPromise.value) }}
                            &lt;li&gt;
                                &lt;span class=&quot;date&quot;&gt;
                                    {{# if(this.isToday(forecast.date)) }}
                                        Today
                                    {{ else }}
                                        {{ forecast.date.toLocaleDateString() }}
                                    {{/ if }}
                                &lt;/span&gt;
                                &lt;span class=&quot;description {{ this.toClassName(forecast.text) }}&quot;&gt;{{ forecast.text }}&lt;/span&gt;
                                &lt;span class=&quot;high-temp&quot;&gt;{{ forecast.high }}&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                                &lt;span class=&quot;low-temp&quot;&gt;{{ forecast.low }}&lt;sup&gt;¬∞&lt;/sup&gt;&lt;/span&gt;
                            &lt;/li&gt;
                        {{/ for }}
                    &lt;/ul&gt;
                &lt;/div&gt;
            {{/ if }}
        &lt;/div&gt;
    `;

    static props = {
        get forecastPromise() {
            if (this.location) {
                return fetch(
                    &quot;https://api.openweathermap.org/data/2.5/forecast?&quot; +
                        param({
                            apiKey: appKey,
                            mode: &quot;json&quot;,
                            q: this.location,
                            units: &quot;imperial&quot;
                        })
                )
                    .then(response =&gt; {
                        return response.json();
                    })
                    .then(transformData);
            }
        },
        location: String
    };

    isToday(date) {
        const today = new Date();
        return today.getDate() === date.getDate();
    }

    toClassName(txt) {
        return txt.toLowerCase().replace(/ /g, &quot;-&quot;);
    }
}
customElements.define(&quot;weather-report&quot;, WeatherReport);

</code></pre>
<div line-highlight='19,21-30,32,60-67,only'></div>
<h2>Result</h2>
<p>When finished, you should see something like the following CodePen:</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="js,result" data-user="bitovi" data-slug-hash="VwwQBVy" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Weather Report Guide (CanJS 6 Beginner) [Finished]">
  <span>See the Pen <a href="https://codepen.io/bitovi/pen/VwwQBVy">
  Weather Report Guide (CanJS 6 Beginner) [Finished]</a> by Bitovi (<a href="https://codepen.io/bitovi">@bitovi</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>

</section>

  


<script type="text/javascript">
  window.docObject = {"src":{"path":"docs/can-guides/commitment/recipes/weather-report/beginner/weather-report.md"},"description":"This beginner guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with\nCanJS 6.2.\n\n","name":"guides/recipes/weather-report-simple","title":"Weather Report","type":"page","parent":"guides/recipes/beginner","comment":" ","pathToRoot":"../../.."};
</script>
</article>
      
        <footer><p>CanJS is part of <a href="https://donejs.com" target="_blank">DoneJS</a>. Created and maintained by the core <a href="https://donejs.com/About.html#team" target="_blank">DoneJS team</a> and <a href="https://www.bitovi.com" target="_blank">Bitovi</a>. <strong>Currently 6.6.1.</strong></p>
</footer>
      

  </div>
  <div id="toc-sidebar" class="column">
    <nav>
      <h1 class="hide">On this page</h1>
    </nav>
    <div class="get-help">
      <h1>Get help</h1>
      <ul>
        <li><a href="https://www.bitovi.com/community/slack" target="_blank" class="icon-slack">Chat with us</a></li>
        <li><a href="https://github.com/canjs/canjs/issues/new" target="_blank" class="icon-github">File an issue</a></li>
        <li><a href="https://forums.bitovi.com/c/canjs" target="_blank" class="icon-forums">Ask questions</a></li>
        <li><a href="https://www.bitovi.com/blog/topic/canjs" target="_blank" class="icon-blog">Read latest news</a></li>
      </ul>
    </div>
  </div>
</div>

		
			<script>
				steal = {
				  	instantiated: {
				    	"bundles/bit-docs-site/static.css!$css" : null
				  	}
			  	};
			</script>
			<script type='text/javascript' data-main="bit-docs-site/static" src="../../static/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>

		<!-- root-level elements with attributes necessary for the app -->
		<div path-prefix="../.."></div>

	</body>
</html>
