<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE — ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: node_modules/can-route/doc/can-route.md
	@module can-route
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>can-route | Routing | API Docs | CanJS</title>
	<meta name="description" content="Manage browser history and client state by synchronizing the window.location.hash with an observable. See the Routing for in depth examples.">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta property="og:image" content="https://www.bitovi.com/hubfs/open-source/os-canjs.png">
	<meta property="og:description" content="Manage browser history and client state by synchronizing the window.location.hash with an observable. See the Routing for in depth examples.">
	<meta property="og:title" content="can-route | Routing | API Docs | CanJS">
	<script type="application/ld+json">
		{
			"@context": "http://www.schema.org",
			"@type": "SoftwareSourceCode",
			"applicationCategory": "DeveloperApplication",
			"brand": "Bitovi",
			"category": "JavaScript Frameworks",
			"codeRepository": "git://github.com/canjs/can-route.git",
			"description": "Manage browser history and client state by synchronizing the window.location.hash with an observable. See the Routing for in depth examples.",
			"image": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"license": "https://github.com/canjs/canjs/blob/master/license.md",
			"logo": "https://www.bitovi.com/hubfs/open-source/os-canjs.png",
			"name": "can-route | Routing | API Docs | CanJS",
			"programmingLanguage": "JavaScript",
			"softwareVersion" : "5.0.2"
		}
	</script>
	
		<link rel="stylesheet" type="text/css" href="./static/bundles/bit-docs-site/static.css">
		<link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/docs/images/canjs_favicon.ico">
		<link rel="apple-touch-icon" sizes="57x57" href="../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon" sizes="72x72" href="../docs/images/canjs_favicon_72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="../docs/images/canjs_favicon_114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../docs/images/canjs_favicon_128x128.png">
		<link rel="apple-touch-icon" sizes="144x144" href="../docs/images/canjs_favicon_144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../docs/images/canjs_favicon_152x152.png">
		<meta content="yes" name="apple-mobile-web-app-capable">
	  	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-11', 'auto');
			ga('send', 'pageview');
		</script>
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
	  	<div data-current-page="can-route" id="everything">
  <div class="header">
    
	<label for="nav-trigger">Menu</label>
	<div class="brand">
		<div class="logo">
			<a href="../index.html" alt="CanJS"></a>
			<div class="dropdown project-dropdown">
				<a href="https://donejs.com/">DoneJS</a>
				<a href="https://stealjs.com/">StealJS</a>
				<a href="https://jquerypp.com/">jQuery++</a>
				<a href="https://funcunit.com/">FuncUnit</a>
				<a href="https://documentjs.com/">DocumentJS</a>
			</div>
		</div>
		<div class="version">
			<div class="version-number">
				6.6.1
			</div>
			<div class="dropdown version-dropdown">
				
					<a href="https://v5.canjs.com">5.33.3</a>
				
					<a href="https://v4.canjs.com">4.3.0</a>
				
					<a href="https://v3.canjs.com">3.14.1</a>
				
					<a href="https://v2.canjs.com">2.3.35</a>
				
			</div>
		</div>
	</div>


	
	<ul class="top-right-links">
		
			
				
					<li class="">
						<a class="page"
							href="about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
					</li>
				
			
		
			
				
					<li class="current">
						<a class="page"
							href="api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
					</li>
				
			
		
			
				
					<li class="">
						<a class="page"
							href="guides/contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
					</li>
				
			
		
	</ul>



<div class="search-section">
	<div class="search-bar">
	<div class="search-wrap" style="display:none;">
		<span class="search-icon"></span>
		<input
			type="text"
			size="6"
			class="search"
			placeholder="Search"
			autocomplete="off"
			autocorrect="off"
			autocapitalize="none"
			spellcheck="false"/>
			<span class="search-icon-cancel"></span>
	</div>
</div>

	<div class="search-bar-container">
	</div>
	<div class="search-results-container">
	<div class="search-results-wrap"></div>
</div>

</div>
<ul class="top-right-bitovi">
	<li class="dropdown">
		<a href="https://www.bitovi.com" class="bitovi by-bitovi">Bitovi</a>
		<ul class="dropdown-menu">
			<li><a href="https://www.bitovi.com/">Bitovi.com</a></li>
			<li><a href="https://www.bitovi.com/blog">Blog</a></li>
			<li><a href="https://www.bitovi.com/design">Design</a></li>
			<li><a href="https://www.bitovi.com/development">Development</a></li>
			<li><a href="https://www.bitovi.com/training">Training</a></li>
			<li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
			<li><a href="https://www.bitovi.com/about">About</a></li>
			<li><a href="https://www.bitovi.com/contact">Contact Us</a></li>
		</ul>
	</li>
</ul>

  </div>
  <div id="left" class="column">

      <div class="nav-menu">
        
            
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community, and contribute back to CanJS.">
							Guides
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the technology-overview page for background on the following APIs.">
							API Docs
						</a>
						
	<ul>
		
			
				
					<li>
						<span>Observables</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-bind.html"
							title="Updates one observable value with the value of another observable.">
							can-bind
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-compute.html"
							title="Create an observable value.">
							can-compute
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-debug.html"
							title="Useful debugging utilities.">
							can-debug
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-deep-observable.html"
							title="Create observable objects where nested objects and arrays are also observable.">
							can-deep-observable
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define.html"
							title="Defines observable properties and their behavior on a prototype object. This function is not commonly used directly. map and list are more commonly used. Types and behaviors shared by both map and list are documented here.">
							can-define
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define/list/list.html"
							title="Create observable lists.">
							can-define/list/list
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define/map/map.html"
							title="Create observable objects.">
							can-define/map/map
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define-backup.html"
							title="">
							can-define-backup
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define-stream.html"
							title="Add useful stream conversion methods to a supplied map or list constructor using a stream interface such as can-stream-kefir.">
							can-define-stream
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define-stream-kefir.html"
							title="Export a function that takes a map or list constructor and uses can-stream-kefir to create streamable properties.">
							can-define-stream-kefir
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-event-queue.html"
							title="Mixin observable behavior to your types.">
							can-event-queue
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-kefir.html"
							title="Integrate KefirJS streams directly within can-stache and other parts of CanJS.">
							can-kefir
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-list.html"
							title="">
							can-list
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-map.html"
							title="Create observable objects.">
							can-map
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-map-compat.html"
							title="can-map-compat">
							can-map-compat
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-map-define.html"
							title="Defines the type, initial value, get, set, remove, and serialize behavior for attributes of a Map.">
							can-map-define
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-observable-array.html"
							title="Create observable arrays with defined properties.">
							can-observable-array
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-observable-object.html"
							title="Create observable objects used to manage state in explicitly defined ways.">
							can-observable-object
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-observation.html"
							title="Create observable values that derive their value from other observable values.">
							can-observation
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-observation-recorder.html"
							title="Specify how to listen to changes in a value being read and record those specifications between two points in time. Record observables being read and indicate how to listen to changes in a value being read.">
							can-observation-recorder
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-observe.html"
							title="Create observable objects, arrays, and functions that work like plain JavaScript objects, arrays, and functions.">
							can-observe
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-simple-map.html"
							title="A performant live-bound map.">
							can-simple-map
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-simple-observable.html"
							title="Create an observable value.">
							can-simple-observable
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-stream.html"
							title="Create useful stream methods from a minimal stream wrapper implementation.">
							can-stream
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-stream-kefir.html"
							title="Convert observable values into streams. Kefir is used to provide the stream functionality.">
							can-stream-kefir
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-value.html"
							title="Get an observable that’s bound to a specific property on another object.">
							can-value
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>Views</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-attribute-observable.html"
							title="Create an observable value from an element&#x27;s property or attribute.">
							can-attribute-observable
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-component.html"
							title="Create a custom element that can be used to manage widgets or application logic.">
							can-component
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-observable-bindings.html"
							title="">
							can-observable-bindings
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-stache.html"
							title="Live binding templates.">
							can-stache
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-stache-bindings.html"
							title="Listen to events and create one-way and two-way bindings.">
							can-stache-bindings
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-stache-converters.html"
							title="Provides a set of converters useful for two-way binding with form elements such as &lt;input&gt; and &lt;select&gt;.">
							can-stache-converters
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-stache-element.html"
							title="Create a custom element with ObservableObject-like properties and stache views.">
							can-stache-element
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-stache-route-helpers.html"
							title="Adds routeUrl and routeCurrent helpers to stache.">
							can-stache-route-helpers
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-autorender.html"
							title="A module that automatically renders script and other elements with the can-autorender attribute. This function is useful to know when the templates have finished rendering.">
							can-view-autorender
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-callbacks.html"
							title="Registered callbacks for behaviors">
							can-view-callbacks
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-import.html"
							title="">
							can-view-import
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-live.html"
							title="Setup live-binding between the DOM and a compute manually.">
							can-view-live
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-model.html"
							title="Gets the ViewModel of an element.">
							can-view-model
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-parser.html"
							title="Parse HTML and mustache tokens.">
							can-view-parser
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-scope.html"
							title="Create a lookup node for keys.">
							can-view-scope
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-view-target.html"
							title="">
							can-view-target
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="steal-stache.html"
							title="A StealJS extension that allows stache templates as dependencies.">
							steal-stache
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>Data Modeling</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-connect.html"
							title="can-connect provides persisted data middleware. Assemble powerful model layers from fully modularized behaviors (i.e. plugins).">
							can-connect
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-connect-ndjson.html"
							title="Get a list of data from an NDJSON service endpoint.">
							can-connect-ndjson
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-connect-tag.html"
							title="Create custom elements that can be used to retrieve model instances.">
							can-connect-tag
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define-realtime-rest-model.html"
							title="Connect a type to a restful data source and automatically manage lists.">
							can-define-realtime-rest-model
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define-rest-model.html"
							title="Connect a type to a restful service layer.">
							can-define-rest-model
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-fixture.html"
							title="Intercept AJAX requests and simulate the response.">
							can-fixture
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-fixture-socket.html"
							title="Simulate socket.io services.">
							can-fixture-socket
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-local-store.html"
							title="Create, update, delete and query data saved in localStorage.">
							can-local-store
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-memory-store.html"
							title="Create, update, delete and query data saved in memory.">
							can-memory-store
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-ndjson-stream.html"
							title="Parses an NDJSON stream into a stream of JavaScript objects.">
							can-ndjson-stream
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-query-logic.html"
							title="Perform data queries and compare queries against each other. Provides logic useful for data caching and real-time behavior.">
							can-query-logic
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-realtime-rest-model.html"
							title="Connect a type to a restful data source and automatically manage lists.">
							can-realtime-rest-model
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-rest-model.html"
							title="Connect a type to a restful service layer.">
							can-rest-model
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-set-legacy.html"
							title="can-set-legacy supports a legacy can-set API that creates a can-query-logic instance.">
							can-set-legacy
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-super-model.html"
							title="Connect a type to a restful data source, automatically manage lists, combine requests, and use a fall-through localstorage cache.">
							can-super-model
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>Routing</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-deparam.html"
							title="Deserialize a query string into an array or object.">
							can-deparam
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-param.html"
							title="Serialize an object or array into a query string.">
							can-param
						</a>
						

					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="module"
							href="can-route.html"
							title="Manage browser history and client state by synchronizing the window.location.hash with an observable. See the Routing for in depth examples.">
							can-route
						</a>
						
	<ul>
		
			
				
					<li>
						<span>static</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.currentRule.html"
							title="A compute representing the currently matched routing rule route.">
							currentRule
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="property"
							href="can-route.data.html"
							title="An observable key-value object used to cross bind to the url observable can-route.urlData. Set it to cross-bind a top level state object (Application ViewModel) to can-route.">
							data
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.deparam.html"
							title="Extract data from a route path.">
							deparam
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.isCurrent.html"
							title="Check if data represents the current route.">
							isCurrent
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.param.html"
							title="Creates a url fragment that represents provided state.">
							param
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.register.html"
							title="Create a route matching rule.">
							register
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.rule.html"
							title="Get the routing rule that matches a url.">
							rule
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.start.html"
							title="Initializes the two way relationship between the url and route.data.">
							start
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.stop.html"
							title="Stops listening to the can-route.data observable and tears down any setup bindings.">
							stop
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.url.html"
							title="Creates a URL fragment based on registered routes given a set of data.">
							url
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="property"
							href="can-route.urlData.html"
							title="Specifies an observable value that represents the URL. Useful for changing what URL route is cross-bound to.">
							urlData
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>deprecated</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-route.link.html"
							title="Creates a string representation of an anchor link using data and the registered routes.       Deprecated 4.4.1      route.link has been deprecated in favor of can-stache-route-helpers.routeCurrent.">
							link
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-route-hash.html"
							title="An observable that is cross bound to the window.location.hash.">
							can-route-hash
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-route-mock.html"
							title="Simulate routing without having to change the URL.">
							can-route-mock
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-route-pushstate.html"
							title="An observable that can be used as can-route&#x27;s can-route.urlData.">
							can-route-pushstate
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>JS Utilities</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-assign.html"
							title="A simplified version of Object.assign, which only accepts a single source argument.">
							can-assign
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-define-lazy-value.html"
							title="can-define-lazy-value">
							can-define-lazy-value
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-diff.html"
							title="Utilities for comparing and applying differences between data structures.">
							can-diff
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-globals.html"
							title="An environment agnostic container for global variables. Useful for testing and server-side rendering (SSR), typically used internally by CanJS.">
							can-globals
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-join-uris.html"
							title="Join together a URI path to a base.">
							can-join-uris
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-key.html"
							title="Utilities that read and write nested properties on objects and arrays.">
							can-key
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-key-tree.html"
							title="Store values in a tree structure.">
							can-key-tree
						</a>
						

					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-make-map.html"
							title="Convert a comma-separated string into a plain JavaScript object.">
							can-make-map
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-parse-uri.html"
							title="can-parse-uri">
							can-parse-uri
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-queues.html"
							title="A light weight queue system for scheduling tasks.">
							can-queues
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-string.html"
							title="String utilities.">
							can-string
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-string-to-any.html"
							title="Turns a string representation of a primitive type back into the associated primitive.">
							can-string-to-any
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>DOM Utilities</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-ajax.html"
							title="Make an asynchronous HTTP (AJAX) request.">
							can-ajax
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-attribute-encoder.html"
							title="Encode and decode attribute names.">
							can-attribute-encoder
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-child-nodes.html"
							title="">
							can-child-nodes
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-control.html"
							title="Create organized, memory-leak free, rapidly performing, stateful controls with declarative event binding. Use Control to create UI controls like tabs, grids, and context menus, and organize them into higher-order business rules with can.route. It can serve as both a traditional view and a traditional controller.">
							can-control
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-dom-data.html"
							title="Associate key/value pair data with a DOM node in a memory-safe way.">
							can-dom-data
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-dom-events.html"
							title="Listen to DOM events and special events, and register special events.">
							can-dom-events
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-dom-mutate.html"
							title="Dispatch and listen for DOM mutations.">
							can-dom-mutate
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-event-dom-enter.html"
							title="Watch for when enter keys are pressed on a DomEventTarget.">
							can-event-dom-enter
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-event-dom-radiochange.html"
							title="A custom event for listening to changes of inputs with type &quot;radio&quot;, which fires when a conflicting radio input changes. A &quot;conflicting&quot; radio button has the same &quot;name&quot; attribute and exists within in the same form, or lack thereof. This event coordinates state bound to whether a radio is checked. The &quot;change&quot; event does not fire for deselected radios. By using this event instead, deselected radios receive notification.">
							can-event-dom-radiochange
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-fragment.html"
							title="Convert a String, HTMLElement, documentFragment, contentArray, or object with a can.toDOM symbol into a documentFragment.">
							can-fragment
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>Data Validation</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-type.html"
							title="Define types that can verify values are of the correct type, or convert values to the correct type.">
							can-type
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-validate.html"
							title="Shared utilities and type definitions to process validation errors.">
							can-validate
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-validate-interface.html"
							title="can-validate-interface provides simple property existence validation. Use to prevent errors resulting from missing properties on input objects.">
							can-validate-interface
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-validate-legacy.html"
							title="A plugin for CanJS that wraps any validation library to can.validate. Can-Validate doesn&#x27;t do any validation of its own but instead provides some abstraction to your library of choice. The chosen library is registered with can-validate using a shim.">
							can-validate-legacy
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-validate-validatejs.html"
							title="Create can-validate.validator functions using validate.js.">
							can-validate-validatejs
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>Typed Data</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-cid.html"
							title="Utility for getting a unique identifier for an object.">
							can-cid
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-construct.html"
							title="Provides a way to easily use the power of prototypal inheritance without worrying about hooking up all the particulars yourself. Use can-construct.extend to create an inheritable constructor function of your own.">
							can-construct
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-construct-super.html"
							title="can.Construct.super is a plugin that makes it easier to call base functions from inside inheriting functions.">
							can-construct-super
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-data-types.html"
							title="A package of type objects that are used to test if a value is a member of the type and convert values to the type.">
							can-data-types
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-namespace.html"
							title="Namespace where can-* packages are registered.">
							can-namespace
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-reflect.html"
							title="Perform operations and read information on unknown data types.">
							can-reflect
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-reflect-dependencies.html"
							title="Functions to keep track of observable dependencies.">
							can-reflect-dependencies
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="function"
							href="can-reflect-promise.html"
							title="Expose an observable, Map-like API on Promise types.">
							can-reflect-promise
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-types.html"
							title="A stateful container for CanJS type information.">
							can-types
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>Polyfills</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="can-symbol.html"
							title="Symbols used to detail how CanJS may operate on different objects CanJS has a consistent internal interface for objects to interact with each other, and this is also important for interop with external libraries.  CanJS uses symbols to identify object types, property access methods, and for event handling. can-symbol also has a polyfill function that will fake symbols on unsupported platforms.">
							can-symbol
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-vdom.html"
							title="A browser-lite environment for Node.js or a worker thread.">
							can-vdom
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="can-core.html"
							title="The best, most hardened and generally useful libraries in CanJS.">
							Core
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						">
						<a class="page"
							href="can-infrastructure.html"
							title="Utility libraries that power the core and ecosystem collection.">
							Infrastructure
						</a>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-global.html"
							title="can-global">
							can-global
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="module"
							href="can-test-helpers.html"
							title="Common utilities for effectively testing the features of CanJS.">
							can-test-helpers
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="can-ecosystem.html"
							title="Useful libraries that extend or add important features to the core collection.">
							Ecosystem
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="can-legacy.html"
							title="Former libraries that we still accept patches for, but are not under active development.">
							Legacy
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="guides/contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
						

					</li>
				
			
		
	</ul>


        
      </div>
      <div class="social-side-container">
        <ul class="social-side">
  <li>
    <a class="header-mobile github" href="https://github.com/canjs/canjs" target="_blank"><img class="social-icon-small" src="../docs/images/github.png">GitHub</a>
  </li>
  <li>
    <a class="header-mobile twitter" href="https://twitter.com/canjs" target="_blank"><img class="social-icon-small" src="../docs/images/twitter.png">Twitter</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/community/slack" target="_blank">Chat</a>
  </li>
  <li>
    <a class="header-mobile" href="https://forums.bitovi.com/c/canjs" target="_blank">Forum</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://www.bitovi.com/blog/topic/canjs" target="_blank">News</a>
  </li>
  <li></li>
</ul>

      </div>
      <div class="by-bitovi-container">
        <a href="https://www.bitovi.com" target="_blank" class="bitovi by-bitovi">Bitovi</a>
      </div>

  </div>
  <div id="right" class="column">

      <article>
  <section class="title">
	<div class="page-type">
		<h1>can-route</h1>
			<ul class="title-social">
				
				<li>
					<a class="npm-button" href="https://www.npmjs.com/package/can-route">
						<img src="https://img.shields.io/badge/npm%20package-5.0.2-brightgreen.svg" alt="npm package badge" />
					</a>
				</li>
				<li>
					<a class="github-button nav-social" href="https://github.com/canjs/can-route" data-show-count="true">Star</a>
				</li>
				
				
				<li>
					<a class="button-link" href="//github.com/canjs/can-route/edit/master/doc/can-route.md">Edit on GitHub</a>
				</li>
				
			</ul>
	</div>
	<div class="clear-both"></div>
	
  
	<section class="description">
    <p>Manage browser history and client state by synchronizing the <code>window.location.hash</code> with an observable. See the <a href="guides/routing.html" title="Learn how to make your application respond to changes in the URL and work with the browser’s back and forward buttons.">Routing</a> for in depth examples.</p>

</section>

  
	
</section>
<section class="on-this-page-table">
	<!--<h2 class="on-this-page-title" data-skip>Page Content</h2>-->
</section>







<div class="signature">
  <h2 class="signature-title">
    <code>Object</code>
  </h2>
  <p>Exports an object with <code>can-route</code>'s methods. The
following describes the properties and methods on
the can-route export:</p>
<pre><code class="language-js">{
    data,     // The bound key-value observable.
    urlData,  // The observable that represents the
              // hash. Defaults to RouteHash.
    register, // Register routes that translate between
              // the url and the bound observable.
    start,    // Begin updating the bound observable with
              // url data and vice versa.
    deparam,  // Given url fragment, return the data for it.
    rule,     // Given url fragment, return the routing rule
    param,    // Given data, return a url fragment.
    url,      // Given data, return a url for it.
    link,     // Given data, return an &lt;a&gt; tag for it.
    isCurrent,  // Given data, return true if the current url matches
                // the data.
    currentRule // Return the matched rule name.
}
</code></pre>

  
  
  
</div>





  
    <section class="body">
    <h2>Background information</h2>
<p>To support the browser’s back button and bookmarking in a JavaScript
application, most applications use
the <code>window.location.hash</code>.  By
changing the hash (via a link or JavaScript),
one is able to add to the browser’s history
without changing the page.</p>
<p>This provides the basics needed to
create history enabled single-page apps.  However,
<code>route</code> addresses several other needs as well, such as:</p>
<ul>
<li>Pretty urls.</li>
<li>Keeping routes independent of application code.</li>
<li>Listening to specific parts of the history changing.</li>
<li>Setup / Teardown of widgets.</li>
</ul>
<h2>How it works</h2>
<p>can-route is a map that represents the
<code>window.location.hash</code> as an
object.  For example, if the hash looks like:</p>
<pre><code>#!type=videos&amp;id=5
</code></pre>
<p>the data in can-route looks like:</p>
<pre><code>{ type: 'videos', id: 5 }
</code></pre>
<p>can-route keeps the state of the hash in-sync with the <a href="can-route.data.html" title="An observable key-value object used to cross bind to the url observable can-route.urlData. Set it to cross-bind a top level state object (Application ViewModel) to can-route.">data</a> contained within it.</p>
<h2>data</h2>
<p>Underlying <code>can-route</code> is an observable map: <a href="can-route.data.html" title="An observable key-value object used to cross bind to the url observable can-route.urlData. Set it to cross-bind a top level state object (Application ViewModel) to can-route.">can-route.data</a>. Depending on what type of map your application uses, this could be a <a href="can-observable-object.html" title="Create observable objects used to manage state in explicitly defined ways.">can-observable-object</a>, a <a href="can-define/map/map.html" title="Create observable objects.">can-define/map/map</a>, an <a href="can-observe.Object.html" title="Create observable key-value instances or types.">Object</a>, or maybe even a <a href="can-simple-map.html" title="A performant live-bound map.">can-simple-map</a>.</p>
<p><code>can-route</code> is an observable. Once initialized using <a href="can-route.start.html" title="Initializes the two way relationship between the url and route.data."><code>route.start()</code></a>, it is going to change, you can respond to those changes. The following example has the my-app component's <code>routeData</code> property return <code>route.data</code>. It responds to changes in routing in <code>componentToShow</code>.</p>
<pre><code class="language-html">&lt;my-app&gt;
&lt;mock-url&gt;

&lt;script type=&quot;module&quot;&gt;
import {ObservableObject, StacheElement, route} from &quot;can&quot;;
import &quot;//unpkg.com/mock-url@^5&quot;;

class PageHome extends StacheElement {
    static view = `
        &lt;h1&gt;Home page&lt;/h1&gt;
        &lt;a href=&quot;{{ routeUrl(page='other') }}&quot;&gt;
            Go to another page
        &lt;/a&gt;
    `;
}

customElements.define(&quot;page-home&quot;, PageHome);

class PageOther extends StacheElement {
    static view = `
        &lt;h1&gt;Other page&lt;/h1&gt;
        &lt;a href=&quot;{{ routeUrl(page='home') }}&quot;&gt;
            Go home
        &lt;/a&gt;
    `;
}

customElements.define(&quot;page-other&quot;, PageOther);

class MyApp extends StacheElement {
    static view = `{{componentToShow}}`;

    static props = {
    routeData: {
      get default() {
        route.data = new ObservableObject();
        route.register(&quot;{page}&quot;, { page: &quot;home&quot; });
        route.start();
        return route.data;
      }
    },
    get componentToShow() {
      switch(this.routeData.page) {
        case &quot;home&quot;:
          return new PageHome();
        case &quot;other&quot;:
          return new PageOther();
      }
    }
  };
}

customElements.define(&quot;my-app&quot;, MyApp);
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p><code>route.data</code> defaults to <a href="can-observable-object.html" title="Create observable objects used to manage state in explicitly defined ways.">can-observable-object</a>, but <code>route.data</code> can be set to any observable. The following uses [can-define-map]:</p>
<pre><code class="language-js">import {DefineMap, route} from &quot;can/everything&quot;;

const RouteData = DefineMap.extend(&quot;RouteData&quot;, {
    page: &quot;string&quot;
});

route.data = new RouteData();
route.register( &quot;{page}&quot;, { page: &quot;home&quot; } );
route.start();
console.log( route.data.page ) //-&gt; &quot;home&quot;
</code></pre>
<div class='codepen'></div>
<p>Understanding how maps work is essential to understanding <code>can-route</code>.</p>
<p>You can listen to changes in a map with <code>on(eventName, handler(ev, args...))</code> and change <code>can-route</code>’s properties by modifying <code>route.data</code>.</p>
<h3>Listening to changes in state</h3>
<p>You can listen to changes in the url by listening on the underlying route data.  For example,
your route data and rule might have a page property:</p>
<pre><code class="language-js">import {ObservableObject, route} from &quot;can&quot;;

route.data = new ObservableObject();
route.register( &quot;{page}&quot;, {page: &quot;recipes&quot;} );
route.start();

// You can listen when the url changes from `&quot;#!recipes&quot;` to `&quot;#!settings&quot;` with:

route.data.on( &quot;page&quot;, ( ev, newVal, oldVal ) =&gt; {
  console.log(oldVal); //-&gt; &quot;recipes&quot;
  console.log(newVal); //-&gt; &quot;settings&quot;
} );

route.data.page = &quot;settings&quot;;
</code></pre>
<div class='codepen'></div>
<h3>Updating can-route</h3>
<p>When using an <a href="can-observable-object.html" title="Create observable objects used to manage state in explicitly defined ways.">ObservableObject</a> to back can-route, create changes in the route data by modifying it directly:</p>
<pre><code class="language-js">route.data.page = &quot;images&quot;;
</code></pre>
<p>Or change multiple properties at once like:</p>
<pre><code class="language-js">route.data.update( { page: &quot;tasks&quot;, id: 5 } );
</code></pre>
<p>When you make changes to can-route, they will automatically
change the <code>hash</code>.</p>
<h3>Encoded <code>/</code></h3>
<p>If the change in your route data includes a <code>/</code>, the <code>/</code> will be encoded into <code>%2F</code>.
You will see this result in the URL and <code>location.hash</code>.</p>
<pre><code class="language-html">&lt;mock-url&gt;&lt;/mock-url&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;//unpkg.com/mock-url@^5.0.0&quot;;
import {ObservableObject, route} from &quot;can&quot;;

route.data = new ObservableObject( {type: &quot;image/bar&quot;} ); // location.hash -&gt; #!&amp;type=image%2Fbar
route.start();
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<h2>Creating a route</h2>
<p>Use <a href="can-route.register"><code>route.register(url, defaults)</code></a> to create a
routing rule. A rule is a mapping from a url to
an object (that is the route’s data).
In order to map to specific properties in the url,
prepend a colon to the name of the property like:</p>
<pre><code class="language-html">&lt;mock-url&gt;&lt;/mock-url&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;//unpkg.com/mock-url@^5.0.0&quot;;
import {route} from &quot;can&quot;;

route.register( &quot;content/{type}&quot; );
route.data.type = &quot;example&quot;; // location.hash -&gt; #!content/example
route.start();
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p>If no routes are added, or no route is matched,
can-route’s data is updated with the <a href="can-route.deparam.html" title="Extract data from a route path.">deparam</a>ed
hash.</p>
<pre><code class="language-html">&lt;mock-url&gt;&lt;/mock-url&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;//unpkg.com/mock-url@^5.0.0&quot;;
import {route} from &quot;can&quot;;

location.hash = &quot;#!&amp;type=videos&quot;;
route.start();

console.log(route.data); //-&gt; {type : &quot;videos&quot;}
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p>Once routes are added and the hash changes,
can-route looks for matching routes and uses them
to update can-route’s data.</p>
<pre><code class="language-html">&lt;mock-url&gt;&lt;/mock-url&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;//unpkg.com/mock-url@^5.0.0&quot;;
import {route} from &quot;can&quot;;

route.register( &quot;content/{type}&quot; );
location.hash = &quot;#!content/images&quot;;
route.start();

console.log( route.data ) //-&gt; {type : &quot;images&quot;}
route.data.type = &quot;songs&quot;; // location.hash -&gt; &quot;#!content/songs&quot;
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p>Default values can be added to a route, this is the second argument passed into <a href="can-route.register.html" title="Create a route matching rule.">register</a>:</p>
<pre><code class="language-html">&lt;mock-url&gt;&lt;/mock-url&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;//unpkg.com/mock-url@^5.0.0&quot;;
import {route} from &quot;can&quot;;

route.register( &quot;content/{type}&quot;, {type: &quot;videos&quot;} );
location.hash = &quot;#!content/&quot;;

route.start();

console.log( route.data ); //-&gt; {type: &quot;videos&quot;}
// location.hash -&gt; &quot;#!content/&quot;
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<div line-highlight='6'></div>
<p>Defaults can also be set on the root page of your app. An empty string (<code>&quot;&quot;</code>) is treated as the &quot;root&quot; page of the app. If there is no hash, or if using <a href="can-route-pushstate.html" title="An observable that can be used as can-route's can-route.urlData.">can-route-pushstate</a> someone is at <code>/</code>:</p>
<pre><code class="language-html">&lt;mock-url&gt;&lt;/mock-url&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;//unpkg.com/mock-url@^5.0.0&quot;;
import {route} from &quot;can&quot;;

route.register( &quot;&quot;, {page: &quot;index&quot;} );
location.hash = &quot;#!&quot;;

route.start()

console.log( route.data ); //-&gt; {page : &quot;index&quot;}
// location.hash -&gt; &quot;#!&quot;
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<h2>Initializing can-route</h2>
<p>After your application has created all of its routes, call <a href="can-route.start.html" title="Initializes the two way relationship between the url and route.data.">start</a>
to set can-route’s data to match the current hash:</p>
<pre><code class="language-js">route.start();
</code></pre>
<h2>Changing the route</h2>
<p>Typically, you don’t set <code>location.hash</code> directly.
Instead, you can change properties on can-route
like:</p>
<pre><code class="language-js">route.data.type = &quot;videos&quot;;
</code></pre>
<p>This will automatically look up the appropriate
route and update the hash.</p>
<p>Often, you want to create links. <a href="can-stache-route-helpers.html" title="Adds routeUrl and routeCurrent helpers to stache.">can-stache-route-helpers</a> provides
the <a href="can-stache-route-helpers.routeUrl.html" title="Returns a url using route.url.">routeUrl(hashes)</a> helper to make this
easy:</p>
<pre><code class="language-html">&lt;a href=&quot;{{ routeUrl(type='videos') }}&quot;&gt;Videos&lt;/a&gt;
</code></pre>
<p>If <code>route.data</code> is an <a href="can-observable-object.html" title="Create observable objects used to manage state in explicitly defined ways.">ObservableObject</a>, then <code>route.data.assign( { } )</code> can be used to overwrite (but not delete) properties and <code>route.data.update( { } )</code> can be used to overwrite AND delete properties.</p>
<p>If <code>route.data</code> is a <a href="can-define/map/map.html" title="Create observable objects.">can-define/map/map</a>, then <a href="can-define/map/map.prototype.assign.html" title="Sets multiple properties on a map instance or a property that wasn't predefined.">route.data.assign( { } )</a> can be used to overwrite (but not delete) properties and <a href="can-define/map/map.prototype.update.html" title="Sets multiple properties on a map instance or a property that wasn't predefined.">route.data.update( { } )</a> can be used to overwrite AND delete properties.</p>
<h2>Finding the matched route</h2>
<p>The matched rule available at <a href="can-route.currentRule.html" title="A compute representing the currently matched routing rule route."><code>route.currentRule</code></a> and is used to set the <code>window.location.hash</code>. The process can-route uses to find the matched rule is:</p>
<ol>
<li>Find all routes with all of their map properties set</li>
<li>If multiple routes are matched, find the route with the highest number of set properties</li>
<li>If multiple routes are still matched, use the route that was registered first</li>
</ol>
<h3>Find all routes with all of their map properties set</h3>
<p>In order for a route to be matched, all of the map properties it uses must be set. For example, in the following route, <code>page</code> and <code>section</code> must be set in order for this route to be matched:</p>
<pre><code class="language-js">import {route} from &quot;can&quot;;

route.register( &quot;{page}/{section}&quot; );
route.start();

route.data.page = &quot;contact&quot;;
route.data.section = &quot;email&quot;;

setTimeout(() =&gt; {
  const result = route.currentRule();
  console.log( result ); //-&gt; &quot;{page}/{section}&quot;
}, 100);
</code></pre>
<div class='codepen'></div>
<p>If a route contains default values, these map properties must also be set to match the default value in order for the route to be matched:</p>
<pre><code class="language-js">import {route} from &quot;can&quot;;

route.register( &quot;{page}&quot;, { section: &quot;email&quot; } );
route.start();

route.data.page = &quot;contact&quot;;
route.data.section = &quot;email&quot;;

setTimeout(() =&gt; {
  const result = route.currentRule();
  console.log( result ); //-&gt; &quot;{page}&quot;
}, 100);
</code></pre>
<div class='codepen'></div>
<h3>Find the route with the highest number of set properties</h3>
<p>If multiple routes have all of their properties set, the route with the highest number of set properties will be used:</p>
<pre><code class="language-js">import {route} from &quot;can&quot;;

route.register( &quot;{page}&quot; );
route.register( &quot;{page}/{section}&quot; );
route.start();

route.data.page = &quot;two&quot;;
route.data.section = &quot;a&quot;;

setTimeout(() =&gt; {
  const result = route.currentRule();
  console.log( result ) //-&gt; &quot;{page}/{section}&quot;
}, 100);
</code></pre>
<div class='codepen'></div>
<h3>Find the route that was registered first</h3>
<p>If multiple routes are still matched, the route that was registered first will be matched:</p>
<pre><code class="language-js">import {route} from &quot;can&quot;;

route.register( &quot;&quot;, { page: &quot;home&quot; } );
route.register( &quot;{section}&quot; );
route.start();

route.data.page = &quot;home&quot;;
route.data.section = &quot;a&quot;;

setTimeout(() =&gt; {
  const result = route.currentRule();
  console.log(result); //-&gt; &quot;&quot;
}, 100);
</code></pre>
<div class='codepen'></div>

</section>

  


<script type="text/javascript">
  window.docObject = {"src":{"path":"node_modules/can-route/doc/can-route.md"},"description":"Manage browser history and client state by synchronizing the `window.location.hash` with an observable. See the [guides/routing Routing] for in depth examples. \n","type":"module","title":"can-route","types":[{"type":"Object","options":[],"description":"\n\n  Exports an object with `can-route`'s methods. The\n  following describes the properties and methods on\n  the can-route export:\n\n  ```js\n  {\n      data,     // The bound key-value observable.\n      urlData,  // The observable that represents the\n                // hash. Defaults to RouteHash.\n      register, // Register routes that translate between\n                // the url and the bound observable.\n      start,    // Begin updating the bound observable with\n                // url data and vice versa.\n      deparam,  // Given url fragment, return the data for it.\n      rule,     // Given url fragment, return the routing rule\n      param,    // Given data, return a url fragment.\n      url,      // Given data, return a url for it.\n      link,     // Given data, return an <a> tag for it.\n      isCurrent,  // Given data, return true if the current url matches\n                  // the data.\n      currentRule // Return the matched rule name.\n  }\n  ```\n"}],"name":"can-route","download":"can/route","test":"can-route/test.html","parent":"can-routing","collection":"can-core","link":"../docco/route/route.html docco","package":{"author":{"name":"Bitovi","email":"contact@bitovi.com","url":"http://bitovi.com"},"bugs":{"url":"https://github.com/canjs/can-route/issues"},"bundleDependencies":false,"dependencies":{"can-bind":"^1.0.0","can-deparam":"^1.0.1","can-diff":"^1.0.4","can-dom-events":"^1.1.0","can-event-queue":"^1.0.0","can-globals":"^1.0.0","can-key-tree":"^1.0.0","can-log":"^1.0.0","can-namespace":"1.0.0","can-observable-object":"^1.0.0","can-observation":"^4.0.0","can-observation-recorder":"^1.0.0","can-param":"^1.0.1","can-queues":"^1.0.0","can-reflect":"^1.16.7","can-route-hash":"^1.0.0","can-simple-observable":"^2.0.0","can-string":"^1.0.0","can-symbol":"^1.0.0","can-type":"^1.0.0"},"deprecated":false,"description":"Observable front-end application routing for CanJS.","devDependencies":{"can-define":"^2.6.0","can-map":"^4.0.0","can-observe":"^2.0.0","can-route-mock":"^1.0.0","can-simple-map":"^4.0.0","can-stache-key":"^1.0.0","can-test-helpers":"^1.1.2","detect-cyclic-packages":"^1.1.0","done-serve":"^3.0.0","http-server":"^0.11.1","jshint":"^2.9.1","steal":"^2.0.0","steal-qunit":"^2.0.0","steal-tools":"^2.0.0","test-saucelabs":"0.0.6","testee":"^0.9.0"},"homepage":"https://canjs.com/doc/can-route.html","keywords":["canjs","canjs-plugin","donejs"],"license":"MIT","main":"can-route","name":"can-route","repository":{"type":"git","url":"git://github.com/canjs/can-route.git"},"scripts":{"ci":"npm run test && node test/test-saucelabs.js","detect-cycle":"detect-cyclic-packages --ignore done-serve","develop":"done-serve --static --develop --port 8080","http-server":"http-server -p 3000 --silent","jshint":"jshint ./*.js src/*.js test/*.js --config","postpublish":"git push --tags && git push","preversion":"npm test","release:major":"npm version major && npm publish","release:minor":"npm version minor && npm publish","release:patch":"npm version patch && npm publish","release:pre":"npm version prerelease && npm publish --tag pre","test":"npm run detect-cycle && npm run jshint && npm run testee","testee":"testee test/test.html --browsers firefox"},"version":"5.0.2"},"comment":" ","codepen":[["\"can\"","\"//unpkg.com/can@6/core.mjs\""],["\"can/ecosystem\"","\"//unpkg.com/can@6/ecosystem.mjs\""],["\"can/everything\"","\"//unpkg.com/can@6/everything.mjs\""],["\"can/demos/technology-overview/mock-url\"","\"//unpkg.com/mock-url@^6.0.0/mock-url.mjs\""],["\"can/demos/technology-overview/route-mini-app-components\"","\"//unpkg.com/route-mini-app@^5.0.0/components.mjs\""],["return steal.import(","return import("],["\"can/demos/technology-overview/page-login\"","\"//unpkg.com/route-mini-app@^5.0.0/page-login.mjs\""],["`can/demos/technology-overview/page-${this.page}`","`//unpkg.com/route-mini-app@^5.0.0/page-${this.page}.mjs`"]],"pathToRoot":".."};
</script>
</article>
      
        <footer><p>CanJS is part of <a href="https://donejs.com" target="_blank">DoneJS</a>. Created and maintained by the core <a href="https://donejs.com/About.html#team" target="_blank">DoneJS team</a> and <a href="https://www.bitovi.com" target="_blank">Bitovi</a>. <strong>Currently 6.6.1.</strong></p>
</footer>
      

  </div>
  <div id="toc-sidebar" class="column">
    <nav>
      <h1 class="hide">On this page</h1>
    </nav>
    <div class="get-help">
      <h1>Get help</h1>
      <ul>
        <li><a href="https://www.bitovi.com/community/slack" target="_blank" class="icon-slack">Chat with us</a></li>
        <li><a href="https://github.com/canjs/canjs/issues/new" target="_blank" class="icon-github">File an issue</a></li>
        <li><a href="https://forums.bitovi.com/c/canjs" target="_blank" class="icon-forums">Ask questions</a></li>
        <li><a href="https://www.bitovi.com/blog/topic/canjs" target="_blank" class="icon-blog">Read latest news</a></li>
      </ul>
    </div>
  </div>
</div>

		
			<script>
				steal = {
				  	instantiated: {
				    	"bundles/bit-docs-site/static.css!$css" : null
				  	}
			  	};
			</script>
			<script type='text/javascript' data-main="bit-docs-site/static" src="./static/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>

		<!-- root-level elements with attributes necessary for the app -->
		<div path-prefix="."></div>

	</body>
</html>
