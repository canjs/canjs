sudo: false
language: node_js
services:
  - xvfb
after_install:
  - echo 'Install has finished'
matrix:
  include:
    - node_js: 6
      env: TEST_SUITE=sauce-labs
      addons:
        sauce_connect: true
        hosts: canjs.test
    - node_js: 6
      env: TEST_SUITE=development
      addons:
        firefox: latest
    - node_js: 6
      env: TEST_SUITE=production
      addons:
        firefox: latest
    - node_js: 6
      env: TEST_SUITE=builders
      addons:
        firefox: latest
    - node_js: 10
      env: TEST_SUITE=global-build
      addons:
        firefox: latest
script:
  - npm run test-$TEST_SUITE
before_script:
  - npm run http-server &
  - sleep 2
dist: xenial
